apiVersion: v1
kind: Secret
metadata:
  name: owncloud-secrets
  namespace: {{ .Release.Namespace }}
type: Opaque
stringData:
  # Admin
  OWNCLOUD_ADMIN_USERNAME: {{ .Values.owncloud.admin.user }}
  OWNCLOUD_ADMIN_PASSWORD: {{ .Values.owncloud.admin.password }}

  # Database
  OWNCLOUD_DB_TYPE: "pgsql"
  OWNCLOUD_DB_HOST: {{ .Values.postgresql.host }}
  OWNCLOUD_DB_PORT: "{{ .Values.postgresql.port }}"
  OWNCLOUD_DB_NAME: {{ .Values.postgresql.database }}
  OWNCLOUD_DB_USER: {{ .Values.postgresql.username }}
  OWNCLOUD_DB_PASSWORD: {{ .Values.postgresql.password }}

  # Redis
  OWNCLOUD_REDIS_ENABLED: "true"
  OWNCLOUD_REDIS_HOST: {{ .Values.redis.host }}
  OWNCLOUD_REDIS_PORT: "{{ .Values.redis.port }}"
  OWNCLOUD_REDIS_DB: "{{ .Values.redis.database }}"
  {{- if .Values.redis.password }}
  OWNCLOUD_REDIS_PASSWORD: {{ .Values.redis.password }}
  {{- end }}
