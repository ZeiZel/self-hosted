# Namespace
namespace: db

create:
  namespace: true

# MongoDB конфигурация
mongodb:
  image: mongo:7.0.12
  replicaSet: rs0
  replicaCount: 3
  architecture: replicaset

  # Authentication
  auth:
    enabled: false
    rootUser: admin # secrets
    rootPassword: changeme # secrets

  # Service
  service:
    type: ClusterIP
    port: 27017

  # StatefulSet конфигурация
  resources:
    limits:
      cpu: 1000m
      memory: 1Gi
    requests:
      cpu: 500m
      memory: 512Mi

# Persistent Storage
persistence:
  enabled: true
  storageClass: standard          # или openebs-hostpath
  accessMode: ReadWriteOnce
  size: 3Gi
  mountPath: /data/db
  configdbPath: /data/configdb

# Consul интеграция
consul:
  enabled: true
  port: 8500
  datacenter: dc1
  tags:
    - mongodb
    - replica-set

# Ingress (опционально, для UI mongo-express)
ingress:
  enabled: false
  className: traefik
  host: mongo.local
  port: 27017

# MongoDB Arbiter (опционально)
arbiter:
  enabled: true

# Init скрипты для инициализации
initScripts:
  enabled: true
