# Общие параметры
namespace: code
replicaCount: 1
mode: standalone  # или distributed

image:
  repository: minio/minio
  pullPolicy: IfNotPresent
  tag: "2024.1.0"

# MinIO конфигурация
minioConfig:
  accessKey: minioadmin         # Измените на свой ключ
  secretKey: minioadmin         # Измените на свой секретный ключ
  rootUser: minioadmin
  rootPassword: minioadmin

# Сервис
service:
  type: ClusterIP
  port: 9000
  targetPort: 9000
  console:
    port: 9001
    targetPort: 9001

# PVC для хранилища
persistence:
  enabled: true
  storageClass: standard        # или openebs-hostpath для вашего кластера
  accessMode: ReadWriteOnce
  size: 20Gi                    # Размер хранилища
  mountPath: /data

# Ingress конфигурация
ingress:
  enabled: true
  className: traefik
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web,websecure
  hosts:
    - host: minio.local
      paths:
        - path: /
          pathType: Prefix
    - host: minio-console.local
      paths:
        - path: /
          pathType: Prefix
  tls:
    enabled: true
    secretName: minio-tls

# Ресурсы
resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 500m
    memory: 512Mi

# Безопасность
securityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000

# Переменные окружения
env:
  MINIO_BROWSER: "on"
  MINIO_DOMAIN: minio.local

# Buckets для создания
buckets:
  - name: data
    policy: none
  - name: logs
    policy: none
  - name: backups
    policy: none
