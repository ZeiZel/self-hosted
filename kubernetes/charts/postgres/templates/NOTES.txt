PostgreSQL Helm Chart deployed successfully!

1. Get the PostgreSQL password:
   kubectl get secret --namespace {{ .Values.namespace }} {{ include "postgresql.secretName" . }} -o jsonpath="{.data.POSTGRES_PASSWORD}" | base64 --decode

2. Connect to PostgreSQL:
   kubectl port-forward --namespace {{ .Values.namespace }} svc/{{ include "postgresql.serviceName" . }} 5432:5432
   psql -h localhost -U {{ .Values.postgresql.config.superuser }} -d {{ .Values.postgresql.config.database }}

3. Connect via PgBouncer (connection pooling):
   kubectl port-forward --namespace {{ .Values.namespace }} svc/{{ include "pgbouncer.serviceName" . }} 6432:6432
   psql -h localhost -p 6432 -U {{ .Values.postgresql.config.superuser }} -d {{ .Values.postgresql.config.database }}

4. Access PgAdmin:
   kubectl port-forward --namespace {{ .Values.namespace }} svc/{{ include "pgadmin.serviceName" . }} 5050:80
   http://localhost:5050
   Email: {{ .Values.pgadmin.config.email }}

5. Run tests:
   helm test {{ .Release.Name }} -n {{ .Values.namespace }}

6. Helpful commands:
   - Check replication status:
     kubectl exec -it {{ include "postgresql.fullname" . }}-0 -n {{ .Values.namespace }} -- psql -U {{ .Values.postgresql.config.superuser }} -c "SELECT * FROM pg_stat_replication;"

   - View backups:
     kubectl exec -it {{ include "postgresql.fullname" . }}-0 -n {{ .Values.namespace }} -- ls -lah {{ .Values.persistence.backups.mountPath }}

   - View logs:
     kubectl logs -f {{ include "postgresql.fullname" . }}-0 -n {{ .Values.namespace }}
