namespace: devtroncd

create:
  namespace: true

# Devtron configuration using official chart values
devtron:
  # Installer modules
  installer:
    modules:
      - cicd

  # ArgoCD integration
  argo-cd:
    enabled: true

  # Security module with Trivy
  security:
    enabled: true
    trivy:
      enabled: true

  # Notifier module
  notifier:
    enabled: true

  # Monitoring with Grafana
  monitoring:
    grafana:
      enabled: true

  # PostgreSQL (use external postgres)
  postgresql:
    external: true
    host: "postgres-0.postgres-headless.db.svc.cluster.local"
    port: "5432"
    database: "devtron"
    username: "devtron"
    password: "" # Set in secrets

  # Ingress configuration
  ingress:
    enabled: true
    className: traefik
    host: devtron.localhost
    tls:
      enabled: true
      secretName: devtron-tls

  # Integration with existing Prometheus
  prometheus:
    external: true
    url: "http://prometheus.monitoring.svc.cluster.local:9090"

# Override official chart values
devtronChartValues:
  installer:
    modules:
      - cicd
  argo-cd:
    enabled: true
  security:
    enabled: true
    trivy:
      enabled: true
  notifier:
    enabled: true
  monitoring:
    grafana:
      enabled: true





