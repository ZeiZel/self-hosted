apps:
  # BASE

  namespaces:
    repo: charts
    chart: namespaces
    namespace: default
    version: v1.0.0

  # EXTERNAL

  traefik:
    repo: traefik
    chart: traefik
    namespace: ingress
    version: v37.2.0
    createNamespace: true

  cert-manager:
    repo: jetstack
    chart: cert-manager
    version: v1.19.1
    namespace: service
    needs:
      - service/vault

  penpot:
    repo: penpot
    chart: penpot
    namespace: productivity
    version: v0.28.0
    needs:
      - ingress/traefik
      - service/consul
      - service/vault

  # DATABASES
  valkey:
    repo: bitnami
    chart: valkey
    namespace: db
    version: ">=0.0.0"
    needs:
      - ingress/traefik
      - service/vault

  postgres:
    repo: bitnami
    chart: postgres
    namespace: db
    version: ">=0.0.0"
    needs:
      - ingress/traefik
      - service/vault

  minio:
    repo: bitnami
    chart: minio
    namespace: db
    version: ">=0.0.0"
    needs:
      - ingress/traefik
      - service/vault

  mongodb:
    repo: bitnami
    chart: mongodb
    namespace: db
    version: ">=0.0.0"
    needs:
      - ingress/traefik
      - service/vault

  rabbitmq:
    repo: bitnami
    chart: rabbitmq
    namespace: db
    version: ">=0.0.0"
    needs:
      - ingress/traefik
      - service/vault

  # SERVICES

  consul:
    repo: hashicorp
    chart: consul
    version: ">=1.0.0"
    namespace: service
    needs:
      - ingress/traefik

  vault:
    repo: charts
    chart: vault
    namespace: service
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul

  monitoring:
    repo: charts
    chart: monitoring
    version: v1.0.0
    namespace: service
    needs:
      - ingress/traefik
      - service/consul
      - service/vault

  glance:
    repo: charts
    chart: glance
    namespace: infrastructure
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - service/vault

  devtron:
    repo: devtron
    chart: devtron
    namespace: devtroncd
    version: v1.0.0
    needs:
      - ingress/traefik
      - db/postgres
      - service/vault

  dashy:
    repo: bitnami
    chart: dashy
    namespace: infrastructure
    version: ">=0.0.0"
    needs:
      - ingress/traefik
      - service/consul
      - service/vault

  bytebase:
    repo: charts
    chart: bytebase
    namespace: infrastructure
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - db/postgres
      - service/vault

  harbor:
    repo: charts
    chart: harbor
    namespace: infrastructure
    version: v1.0.0
    needs:
      - ingress/traefik
      - db/postgres
      - db/valkey
      - service/vault

  pangolin-client:
    repo: charts
    chart: pangolin-client
    namespace: infrastructure
    version: v1.0.0
    needs:
      - service/consul
      - service/vault

  authentik:
    repo: authentik
    chart: authentik
    namespace: service
    version: ">=2024.0.0"
    needs:
      - ingress/traefik
      - service/consul
      - db/postgres
      - db/valkey
      - service/vault

  # PRODUCTIVITY
  notesnook:
    repo: charts
    chart: notesnook
    namespace: productivity
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - service/vault

  excalidraw:
    repo: charts
    chart: excalidraw
    namespace: productivity
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - service/vault

  affine:
    repo: charts
    chart: affine
    namespace: productivity
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - db/postgres
      - db/valkey
      - db/minio
      - service/vault

  # CODE (JetBrains + GitLab)
  hub:
    repo: charts
    chart: hub
    namespace: code
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - db/postgres
      - service/vault

  youtrack:
    repo: charts
    chart: youtrack
    namespace: code
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - code/hub
      - db/postgres
      - service/vault

  teamcity:
    repo: charts
    chart: teamcity
    namespace: code
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - db/postgres
      - service/vault

  gitlab:
    repo: gitlab
    chart: gitlab
    namespace: code
    version: ">=8.0.0"
    needs:
      - ingress/traefik
      - service/consul
      - db/postgres
      - db/valkey
      - service/vault

  # SOCIAL
  stoat:
    repo: charts
    chart: stoat
    namespace: social
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - db/valkey
      - db/mongodb
      - db/minio
      - db/rabbitmq
      - service/authentik
      - service/vault
      - social/stalwart

  stalwart:
    repo: charts
    chart: stalwart
    namespace: social
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - service/authentik
      - service/vault

  # DATA
  vaultwarden:
    repo: charts
    chart: vaultwarden
    namespace: data
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - db/postgres
      - service/vault

  syncthing:
    repo: charts
    chart: syncthing
    namespace: data
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - service/vault

  nextcloud:
    repo: charts
    chart: nextcloud
    namespace: data
    version: v1.0.0
    needs:
      - ingress/traefik
      - service/consul
      - db/postgres
      - db/valkey
      - service/vault
