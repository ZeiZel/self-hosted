---
- name: Include hardening tasks
  include_tasks: hardening.yml

- name: Include fail2ban tasks
  include_tasks: fail2ban.yml

- name: Generate secure password
  set_fact:
    secure_password: "{{ lookup('password', '/dev/null length=32 chars=ascii_letters,digits') }}"
  when: secure_password is not defined
  no_log: true

- name: Display password generation info
  debug:
    msg: "Secure password has been generated (check vault for actual value)"





