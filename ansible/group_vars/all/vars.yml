---
# deployed apps
infrastructure:
  base:
    - namespace
    - traefik
    - vault
    - consul
  apps:
    - stoat
    - swalwart
    - youtrack
    - hub
    - teamcity
    - authentik
    - vaultwarden

docker_edition: 'ce'

firewall:
  allowed_tcp_ports:
    - "{{ ssh.port }}"    # SSH (custom port)
    - 80      # HTTP
    - 443     # HTTPS
  allowed_udp_ports:
    - 51820   # WireGuard
    - 21820   # WireGuard alt

sysctl_config:
  net.ipv4.ip_forward: 1
  net.ipv4.conf.all.src_valid_mark: 1
  net.ipv6.conf.all.forwarding: 1

# Pangolin settings
pangolin_version: "1.15.0"
gerbil_version: "1.3.0"
traefik_version: "v3.4.0"
pangolin_install_dir: "/opt/pangolin"
wireguard_network: "10.99.0.0/24"
wireguard_server_ip: "10.99.0.1"
wireguard_port: 51820

# Proxmox settings
proxmox_storage: "local-lvm"
proxmox_network_bridge: "vmbr1"
proxmox_template_vmid: 9000
proxmox_iso_url: "https://cloud-images.ubuntu.com/releases/22.04/release/ubuntu-22.04-server-cloudimg-amd64.img"

# Proxmox VM configuration
proxmox_vms:
  - name: "k8s-master-1"
    vmid: 100
    cores: 4
    memory: 8192
    disk: "50G"
    ip: "192.168.100.10"
    role: "master"
  - name: "k8s-worker-1"
    vmid: 101
    cores: 4
    memory: 16384
    disk: "100G"
    ip: "192.168.100.11"
    role: "worker"
  - name: "k8s-worker-2"
    vmid: 102
    cores: 4
    memory: 16384
    disk: "100G"
    ip: "192.168.100.12"
    role: "worker"
