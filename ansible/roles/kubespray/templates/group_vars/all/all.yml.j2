---
## Kubespray cluster configuration
## Generated by Ansible

## Container runtime
container_manager: {{ container_manager }}

## Kubernetes cluster name
cluster_name: {{ cluster_name }}

## Kube-proxy configuration
kube_proxy_mode: {{ kube_proxy_mode }}

## Etcd deployment type
etcd_deployment_type: {{ etcd_deployment_type }}

## Download configuration
download_run_once: true
download_localhost: false

## Kubernetes version
kube_version: {{ kube_version }}

## Network plugin
kube_network_plugin: {{ cni_plugin }}

## Service and pod network CIDR
kube_service_addresses: {{ service_cidr }}
kube_pods_subnet: {{ pod_cidr }}

## Network node size
kube_network_node_prefix: 24

## DNS configuration
dns_mode: {{ dns_mode }}
enable_nodelocaldns: true
nodelocaldns_ip: 169.254.25.10

## Kubelet configuration
kubelet_deployment_type: host

## Enable kubectl bash completion
kubectl_bash_completion: true

## Certificate configuration
## Add supplementary addresses for API server certificate
supplementary_addresses_in_ssl_keys: []

## Kubeconfig admin configuration
kubeconfig_localhost: true
kubectl_localhost: true

## Kubernetes dashboard (disabled, using Grafana instead)
dashboard_enabled: false

## Container image registry
# kube_image_repo: "registry.k8s.io"

## System reserved resources
system_reserved: true
system_memory_reserved: 512Mi
system_cpu_reserved: 500m

## Kube reserved resources
kube_reserved: true
kube_memory_reserved: 256Mi
kube_cpu_reserved: 100m

## Pod eviction thresholds
eviction_hard:
  memory.available: "100Mi"
  nodefs.available: "10%"
  imagefs.available: "10%"

## Authorization modes
authorization_modes: ['Node', 'RBAC']

## Anonymous authentication
kube_api_anonymous_auth: false

## Admission plugins
kube_apiserver_enable_admission_plugins:
  - NodeRestriction
  - PodSecurityPolicy
  - ServiceAccount

## Feature gates
kube_feature_gates:
  - "RotateKubeletServerCertificate=true"
