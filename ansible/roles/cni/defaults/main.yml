---
# CNI role defaults
# Calico network plugin configuration

# CNI plugin (kubespray sets this, we verify/configure it)
cni_plugin: "calico"

# Calico configuration
calico_version: "v3.28.0"
calico_ippool_name: "default-ipv4-ippool"
calico_ippool_cidr: "10.233.64.0/18"
calico_ippool_nat_outgoing: true
calico_ippool_disabled: false
calico_ippool_blocksize: 26

# Encapsulation mode: "IPIP", "VXLAN", "IPIPCrossSubnet", "VXLANCrossSubnet", "None"
calico_ippool_ipip_mode: "IPIPCrossSubnet"
calico_ippool_vxlan_mode: "Never"

# Node-to-node mesh (disable for large clusters)
calico_node_mesh_enabled: true

# Network policy
calico_policy_enabled: true
calico_policy_type: "k8s"  # or "canal" for canal mode

# Felix configuration
felix_log_level: "info"
felix_health_port: 9099
felix_prometheus_metrics_enabled: true
felix_prometheus_metrics_port: 9091

# BGP configuration (for metal-lb or advanced routing)
calico_bgp_enabled: false

# IPAM configuration
calico_ipam_type: "calico-ipam"

# MTU
calico_mtu: 1450

# IP-in-IP overlay
calico_ip_in_ip_enabled: true

# Wireguard encryption (optional)
calico_wireguard_enabled: false

# Verification timeout
verify_timeout: 300
