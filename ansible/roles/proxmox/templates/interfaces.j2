# network interface settings; autogenerated by Ansible
# Please do NOT modify this file directly, unless you know what
# you're doing.
#
# If you want to manage parts of the network configuration manually,
# please utilize the 'source' or 'source-directory' directives to do
# so.
# PVE will preserve these directives, but will NOT read its network
# configuration from sourced files, so do not attempt to move any of
# the PVE managed interfaces into external files!

auto lo
iface lo inet loopback

# Management bridge (vmbr0) - connected to physical interface
auto {{ proxmox_network_interface }}
iface {{ proxmox_network_interface }} inet manual

auto {{ proxmox_network_bridge_mgmt }}
iface {{ proxmox_network_bridge_mgmt }} inet static
    address {{ ansible_default_ipv4.address }}/{{ ansible_default_ipv4.netmask }}
    gateway {{ ansible_default_ipv4.gateway }}
    bridge-ports {{ proxmox_network_interface }}
    bridge-stp off
    bridge-fd 0
    # Management network for Proxmox web interface and VM management

# Internal K8s bridge (vmbr1) - VM-only network
auto {{ proxmox_network_bridge_k8s }}
iface {{ proxmox_network_bridge_k8s }} inet static
    address {{ proxmox_vm_network_gateway }}/24
    bridge-ports none
    bridge-stp off
    bridge-fd 0
    # Internal network for K8s cluster VMs ({{ proxmox_vm_network_cidr }})
