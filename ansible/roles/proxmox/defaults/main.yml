---
# Default variables for proxmox role
# This role combines: proxmox_setup, proxmox_terraform, proxmox_post_provision

# =============================================================================
# PROXMOX API SETTINGS (Tag: proxmox-setup)
# =============================================================================
proxmox_api_host: "{{ proxmox.api_host | default('192.168.100.2') }}"
proxmox_api_port: "{{ proxmox.api_port | default(8006) }}"
proxmox_node_name: "{{ proxmox.node_name | default('local-server') }}"

# Template verification
proxmox_template_name: "{{ proxmox.template_name | default('ubuntu-cloud-init') }}"

# Storage pool
proxmox_storage_pool: "{{ proxmox.storage_pool | default('local') }}"

# Network bridge
proxmox_network_bridge: "{{ proxmox.network_bridge | default('vmbr0') }}"

# API token settings
proxmox_terraform_token_id: "terraform@pve"
proxmox_terraform_token_comment: "Token for Terraform automation"
proxmox_terraform_token_privileges: "PVEVMAdmin,PVEDatastoreAdmin,PVEAuditor"

# =============================================================================
# TERRAFORM SETTINGS (Tag: terraform)
# =============================================================================
terraform_version: "1.7.0"
terraform_working_dir: "{{ playbook_dir }}/terraform/proxmox"
terraform_install_dir: "/usr/local/bin"
terraform_download_url: "https://releases.hashicorp.com/terraform/{{ terraform_version }}/terraform_{{ terraform_version }}_{{ ansible_system | lower }}_{{ 'amd64' if ansible_architecture == 'x86_64' else 'arm64' }}.zip"

# Inventory settings
inventory_file: "{{ playbook_dir }}/inventory/hosts.ini"

# Wait settings for VM provisioning
vm_boot_wait_seconds: 60
vm_ssh_wait_timeout: 300

# =============================================================================
# POST-PROVISION SETTINGS (Tag: post-provision)
# =============================================================================
ssh_wait_timeout: 300
ssh_retry_delay: 10
ssh_max_retries: 30

# Health check settings
health_check_enabled: true
